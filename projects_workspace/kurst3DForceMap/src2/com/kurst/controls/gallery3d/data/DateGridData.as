/******************************************************************************************************************************************************************************** *  * Class Name  	: com.kurst.controls.gallery3d.data.DateGridData * Version 	  	:  * Description 	:  *  ******************************************************************************************************************************************************************************** *  * Author 		:  * Date 			:  *  ******************************************************************************************************************************************************************************** *  * METHODS *  * 	destroy () * 	getItemAt( p : int ) : 	DateGridImageCollection * 	setData ( a : Array ) : void * 	traceData ( ) : void * 	 * * PROPERTIES *  * 	length : int ( get only ); * * EVENTS *  *  ******************************************************************************************************************************************************************************** * 				: * * ********************************************************************************************************************************************************************************* * NOTES			: **********************************************************************************************************************************************************************************/package com.kurst.controls.gallery3d.data {	import Object;	import Array;	import com.kurst.controls.gallery3d.data.DateGridImageCollection	public class DateGridData extends Object {		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		private var _dateData : Array;		function DateGridData() {			_dateData = new Array();		}		// -PUBLIC-----------------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		//		// PPPPPP  UU   UU BBBBBB  LL      IIIIII  CCCCC		// PP   PP UU   UU BB   BB LL        II   CC   CC		// PPPPPP  UU   UU BBBBBB  LL        II   CC		// PP      UU   UU BB   BB LL        II   CC   CC		// PP       UUUUU  BBBBBB  LLLLLLL IIIIII  CCCCC		//		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		public function destroy() : void {			for ( var i : int = 0 ; i < _dateData.length ; i++ ) {				var dgIC : DateGridImageCollection = getItemAt(i)				dgIC.destroy();			}			_dateData = null;		}		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		public function getItemAt(p : int) : DateGridImageCollection {			return _dateData[p] as DateGridImageCollection;		}		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		public function setData(a : Array) : void {			for ( var c : int = 0 ; c < a.length ; c++ ) {				addImage(a[c]);			}			_dateData.sortOn('date', Array.NUMERIC);			_dateData.reverse();			// traceData();		}		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		public function traceData() : void {			trace('--------------------------------');			trace('--------------------------------');			for ( var c : int = 0 ; c < _dateData.length ; c++ ) {				var ic : DateGridImageCollection = _dateData[c] as DateGridImageCollection;				var icData : Array = ic.data;				trace(ic.dateString + '--------------------------------');				for ( var d : int = 0 ; d < icData.length ; d++ ) {					var rec : Object = icData[d];					trace('rec.uri : ' + rec.uri);				}			}		}		// public function getImageCollectionByID ( id ) : DateGridImageCollection		// -PRIVATE----------------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		//		// PPPPPP  RRRRR   IIIIII V     V   AAA   TTTTTT EEEEEEE		// PP   PP RR  RR    II   V     V  AAAAA    TT   EE		// PPPPPP  RRRRR     II    V   V  AA   AA   TT   EEEE		// PP      RR  RR    II     V V   AAAAAAA   TT   EE		// PP      RR   RR IIIIII    V    AA   AA   TT   EEEEEEE		//		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		private function addImage(rec : Object) : void {			var ic : DateGridImageCollection = getImageCollection(rec);			if ( !isInImageCollection(rec, ic) ) ic.addImage(rec);		}		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		private function isInImageCollection(rec : Object, ic : DateGridImageCollection) : Boolean {			var imageCollectionArray : Array = ic.data;			for ( var c : int = 0 ; c < imageCollectionArray.length ; c++ ) {				var record : Object = imageCollectionArray[c];				if ( record._id == rec._id ) return true;			}			return false;		}		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		private function getImageCollection(rec : Object) : DateGridImageCollection {			var isFound : Boolean = false;			for ( var c : int = 0 ; c < _dateData.length ; c++ ) {				var ic : DateGridImageCollection = _dateData[ c ] as DateGridImageCollection				if ( ic.dateString == getDateStringFromRecord(rec)) {					isFound = true;					return ic				}			}			var nIc : DateGridImageCollection = new DateGridImageCollection();			nIc.date = rec.date;			nIc.id = _dateData.length;			_dateData.push(nIc);			return nIc;		}		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		private function getDateStringFromRecord(rec : Object) : String {			return String(rec.date.getMonth() + '_' + rec.date.getFullYear());		}		// -GET/SET----------------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		//		// GGGGG  EEEEEEE TTTTTT          SSSSS EEEEEEE TTTTTT		// GG      EE        TT           SS     EE        TT		// GG  GGG EEEE      TT            SSSS  EEEE      TT		// GG   GG EE        TT               SS EE        TT		// GGGGG  EEEEEEE   TT           SSSSS  EEEEEEE   TT		//		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		/**		 * @method 		 * @tooltip		 * @param		 * @return		 */		public function get length() : int {			return _dateData.length;		}		// -EVENT HANDLERS-------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		//		// EEEEEEE V     V EEEEEEE NN  NN TTTTTT         HH   HH   AAA   NN  NN DDDDDD  LL      EEEEEEE RRRRR    SSSSS 		// EE      V     V EE      NNN NN   TT           HH   HH  AAAAA  NNN NN DD   DD LL      EE      RR  RR  SS     		// EEEE     V   V  EEEE    NNNNNN   TT           HHHHHHH AA   AA NNNNNN DD   DD LL      EEEE    RRRRR    SSSS  		// EE        V V   EE      NN NNN   TT           HH   HH AAAAAAA NN NNN DD   DD LL      EE      RR  RR      SS 		// EEEEEEE    V    EEEEEEE NN  NN   TT           HH   HH AA   AA NN  NN DDDDDD  LLLLLLL EEEEEEE RR   RR SSSSS  		//		// ------------------------------------------------------------------------------------------------------------------------------------------------------------		// ------------------------------------------------------------------------------------------------------------------------------------------------------------	}}